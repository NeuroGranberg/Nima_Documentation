
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Central Documentation of my project as RA in NG group, KI.">
      
      
        <meta name="author" content="Nima Chamyani">
      
      
        <link rel="canonical" href="https://neurogranberg.github.io/Nima_Documentation/iAID/data/">
      
      
        <link rel="prev" href="../../workspace/fixing_corrupted_archives/">
      
      
        <link rel="next" href="../BIDSification/">
      
      
      <link rel="icon" href="../../assets/NG-T.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Data - Nima's Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#general-information" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Nima&#39;s Documentation" class="md-header__button md-logo" aria-label="Nima's Documentation" data-md-component="logo">
      
  <img src="../../assets/NG_GROUP.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nima's Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/NeuroGranberg/Nima_Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Nima_Documentation
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../workspace/" class="md-tabs__link">
          
  
    
  
  Workspace

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  iAID

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../NeuroG%20Container/motivation/" class="md-tabs__link">
          
  
    
  
  NeuroG Container

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Dicom%20Extractor/dicom_metadata_extraction_tool/" class="md-tabs__link">
          
  
    
  
  Dicom Extractor

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Dicom%20Reorganizer/" class="md-tabs__link">
          
  
    
  
  Dicom Reorganizer

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Orthanc%20Server/build/" class="md-tabs__link">
          
  
    
  
  Orthanc Server

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Nima&#39;s Documentation" class="md-nav__button md-logo" aria-label="Nima's Documentation" data-md-component="logo">
      
  <img src="../../assets/NG_GROUP.png" alt="logo">

    </a>
    Nima's Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NeuroGranberg/Nima_Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Nima_Documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../workspace/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Workspace
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Workspace
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/infrastructure_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Infrastructure and Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/set_up_environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting Up The Workspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/BIDSification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BIDSification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/comperhensive_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comperhensive Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/conversion_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversion Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Containers and Virtual Machines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/BIDS_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BIDS Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/BIDS_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep-Learning Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/visualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/copying_large_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Copying Large Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/running_commands_in_background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Commands in the Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/parallelization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallelization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/download_large_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading Large Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace/fixing_corrupted_archives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fixing Corrupted ZIP Archives
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    iAID
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            iAID
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Data
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-information" class="md-nav__link">
    <span class="md-ellipsis">
      General information
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Initial structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copying-iaid-to-home" class="md-nav__link">
    <span class="md-ellipsis">
      Copying iAID to $HOME
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decompressing-unzipping" class="md-nav__link">
    <span class="md-ellipsis">
      Decompressing (Unzipping)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decompressing (Unzipping)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-the-problem" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding the Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixing-the-packages-with-ff-option" class="md-nav__link">
    <span class="md-ellipsis">
      Fixing the packages with -FF option
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discarding-cdr" class="md-nav__link">
    <span class="md-ellipsis">
      Discarding CDR
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BIDSification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BIDSification
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NeuroG Container
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            NeuroG Container
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../NeuroG%20Container/motivation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motivation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../NeuroG%20Container/build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../NeuroG%20Container/how_to_use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dicom Extractor
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Dicom Extractor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dicom%20Extractor/dicom_metadata_extraction_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extraction Tool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dicom%20Extractor/Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Dicom%20Reorganizer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Dicom Reorganizer
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Dicom Reorganizer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dicom%20Reorganizer/python_package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust Written Code As A Python Package
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Orthanc Server
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Orthanc Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Orthanc%20Server/build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Orthanc%20Server/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/NeuroGranberg/Nima_Documentation/edit/main/docs/iAID/data.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/NeuroGranberg/Nima_Documentation/raw/main/docs/iAID/data.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>Data</h1>

<h2 id="general-information">General information</h2>
<p>to be written..</p>
<h2 id="initial-structure">Initial structure</h2>
<p><code>iAID</code> is structured into a main directory and a couple of sub-directories in FG. Inside the <code>iAID</code> folder, there's a <code>derivatives</code> folder that splits into two parts:</p>
<ul>
<li><code>bids-dcm</code>: Presumably BIDS-formatted DICOM files which was empty.</li>
<li><code>original-data-zipped</code>: Compressed original data.</li>
</ul>
<p>The zipped files follow a numeric organization, each encompassing a distinct range of data entries with sizes ranging between 22GB and 69GB, totaling approximately 610GB.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ðŸ“¦iAID
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>â”ƒâ”—ðŸ“‚derivatives
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>â”ƒ<span class="w">  </span>â”£<span class="w"> </span>ðŸ“‚bids-dcm
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>â”ƒ<span class="w">  </span>â”£<span class="w"> </span>ðŸ“‚orignal-data-zipped
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip<span class="w">   </span>69GB<span class="w">  </span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_01001-02000_<span class="o">(</span><span class="m">501</span><span class="o">)</span>.zip<span class="w">   </span>54GB<span class="w">  </span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_02001-03000_<span class="o">(</span><span class="m">498</span><span class="o">)</span>.zip<span class="w">   </span>56GB<span class="w">  </span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_03001-04000_<span class="o">(</span><span class="m">538</span><span class="o">)</span>.zip<span class="w">   </span>59GB<span class="w">  </span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_04001-05000_<span class="o">(</span><span class="m">528</span><span class="o">)</span>.zip<span class="w">   </span>35GB<span class="w">  </span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_05001-06000_<span class="o">(</span><span class="m">185</span><span class="o">)</span>.zip<span class="w">   </span>28GB<span class="w">  </span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_06001-07000_<span class="o">(</span><span class="m">301</span><span class="o">)</span>.zip<span class="w">   </span>37GB<span class="w">  </span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_07001-08000_<span class="o">(</span><span class="m">541</span><span class="o">)</span>.zip<span class="w">   </span>58GB<span class="w">  </span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_08001-09000_<span class="o">(</span><span class="m">623</span><span class="o">)</span>.zip<span class="w">   </span>59GB<span class="w">  </span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_09001-10000_<span class="o">(</span><span class="m">431</span><span class="o">)</span>.zip<span class="w">   </span>22GB<span class="w">  </span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_10001-11000_<span class="o">(</span><span class="m">742</span><span class="o">)</span>.zip<span class="w">   </span>42GB<span class="w">  </span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_11001-12000_<span class="o">(</span><span class="m">727</span><span class="o">)</span>.zip<span class="w">   </span>33GB<span class="w">  </span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”£<span class="w"> </span>ðŸ“œMS-IAID_12001-13000_<span class="o">(</span><span class="m">648</span><span class="o">)</span>.zip<span class="w">   </span>34GB<span class="w">  </span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>â”ƒ<span class="w">  </span>â”ƒ<span class="w"> </span>â”—<span class="w"> </span>ðŸ“œMS-IAID_13001-13782_<span class="o">(</span><span class="m">429</span><span class="o">)</span>.zip<span class="w">   </span>36GB<span class="w"> </span>
</span></code></pre></div>
<h2 id="copying-iaid-to-home">Copying iAID to $HOME</h2>
<p>I copied <code>iAID</code> folder to my home directory on the FG server over SSH. Here's how I did it:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">cd</span><span class="w"> </span>/mnt/raid/MS/projects/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>tar<span class="w"> </span>-cf<span class="w"> </span>-<span class="w"> </span>iAID<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="o">(</span><span class="nb">cd</span><span class="w"> </span>~<span class="p">;</span><span class="w"> </span>tar<span class="w"> </span>-xf<span class="w"> </span>-<span class="w"> </span><span class="o">)</span>
</span></code></pre></div>
<p>I chose <code>tar</code> for its efficiency with large datasets. This approach compresses <code>iAID</code> and then decompresses it directly into my home directory in a single operation, bypassing the slower process of transferring files one by one.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> </p>
<div class="admonition warning">
<p class="admonition-title">Problem with <code>rsync</code> on FG server!</p>
<p>I've also tried to use <code>rsync</code> and for some reason which I could not find, was not stable on the server. The log was:</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>iAID/derivatives/orignal-data-zipped/MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>rsync<span class="w"> </span>error:<span class="w"> </span>received<span class="w"> </span>SIGINT,<span class="w"> </span>SIGTERM,<span class="w"> </span>or<span class="w"> </span>SIGHUP<span class="w"> </span><span class="o">(</span>code<span class="w"> </span><span class="m">20</span><span class="o">)</span><span class="w"> </span>at<span class="w"> </span>io.c<span class="o">(</span><span class="m">503</span><span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="nv">generator</span><span class="o">=</span><span class="m">3</span>.2.3<span class="o">]</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>rsync<span class="w"> </span>error:<span class="w"> </span>received<span class="w"> </span>SIGINT,<span class="w"> </span>SIGTERM,<span class="w"> </span>or<span class="w"> </span>SIGHUP<span class="w"> </span><span class="o">(</span>code<span class="w"> </span><span class="m">20</span><span class="o">)</span><span class="w"> </span>at<span class="w"> </span>rsync.c<span class="o">(</span><span class="m">703</span><span class="o">)</span><span class="w"> </span><span class="o">[</span><span class="nv">sender</span><span class="o">=</span><span class="m">3</span>.2.3<span class="o">]</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>rsync:<span class="w"> </span><span class="o">[</span>receiver<span class="o">]</span><span class="w"> </span>write<span class="w"> </span>error:<span class="w"> </span>Broken<span class="w"> </span>pipe<span class="w"> </span><span class="o">(</span><span class="m">32</span><span class="o">)</span>
</span></code></pre></div>
<p>SIGINT, SIGTERM, or SIGHUP (code 20): This error suggests rsync received an interrupt signal. I was not manually cancelling the process, so it might be a system or network issue causing the interruption.
Write error or Broken pipe (32): This usually happens when the connection between the source and destination is lost during the transfer. Maybe due to permission!</p>
</div>
<h2 id="decompressing-unzipping">Decompressing (Unzipping)</h2>
<p>When attempting to decompress zip file, the standard <code>zip</code> function was unsuccessful<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>. Upon investigating the issue, I discovered the following:</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>nima@fractalgrande:$<span class="w"> </span>zip<span class="w"> </span>-T<span class="w"> </span>-v<span class="w"> </span>MS-IAID_00001-01000_<span class="se">\(</span><span class="m">570</span><span class="se">\)</span>.zip<span class="w"> </span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Could<span class="w"> </span>not<span class="w"> </span>find:
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.z01
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Hit<span class="w"> </span>c<span class="w">      </span><span class="o">(</span>change<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>where<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>file<span class="w"> </span>is<span class="o">)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span>q<span class="w">      </span><span class="o">(</span>abort<span class="w"> </span>archive<span class="w"> </span>-<span class="w"> </span>quit<span class="o">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w"> </span>or<span class="w"> </span>ENTER<span class="w">  </span><span class="o">(</span>try<span class="w"> </span>reading<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>again<span class="o">)</span>:<span class="w"> </span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>Could<span class="w"> </span>not<span class="w"> </span>find<span class="w"> </span>or<span class="w"> </span>open
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">  </span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.z01
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>Hit<span class="w"> </span>c<span class="w">      </span><span class="o">(</span>change<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>where<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>file<span class="w"> </span>is<span class="o">)</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span>q<span class="w">      </span><span class="o">(</span>abort<span class="w"> </span>archive<span class="w"> </span>-<span class="w"> </span>quit<span class="o">)</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w"> </span>or<span class="w"> </span>ENTER<span class="w">  </span><span class="o">(</span>try<span class="w"> </span>reading<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>again<span class="o">)</span>:<span class="w"> </span>q<span class="w"> </span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>zip<span class="w"> </span>error:<span class="w"> </span>Interrupted<span class="w"> </span><span class="o">(</span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip<span class="o">)</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>nima@fractalgrande:~/iAID/derivatives/orignal-data-zipped$<span class="w"> </span>zip<span class="w"> </span>-T<span class="w"> </span>-v<span class="w"> </span>MS-IAID_00001-01000_<span class="se">\(</span><span class="m">570</span><span class="se">\)</span>.zip<span class="w"> </span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>Could<span class="w"> </span>not<span class="w"> </span>find:
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">  </span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.z01
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>Hit<span class="w"> </span>c<span class="w">      </span><span class="o">(</span>change<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>where<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>file<span class="w"> </span>is<span class="o">)</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">    </span>q<span class="w">      </span><span class="o">(</span>abort<span class="w"> </span>archive<span class="w"> </span>-<span class="w"> </span>quit<span class="o">)</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w"> </span>or<span class="w"> </span>ENTER<span class="w">  </span><span class="o">(</span>try<span class="w"> </span>reading<span class="w"> </span>this<span class="w"> </span>split<span class="w"> </span>again<span class="o">)</span>:
</span></code></pre></div>
<p>The error message I encountered indicated that the ZIP file <code>MS-IAID_00001-01000_(570).zip</code> appears to be a segment of a multipart (split) ZIP archive, with the tool failing to locate the subsequent segment, named <code>MS-IAID_00001-01000_(570).z01</code>. Typically, in multipart ZIP archives, data is distributed across several files, and it is generally required to have all parts available to successfully open or extract the contents of the archive. However, this ZIP file is not actually part of a split archive but is incorrectly being recognized as one.</p>
<p>Initially, I thought the problem might be related to the handling of very large ZIP files by the <code>zip</code> utility, possibly due to its limitations or specific behaviors with large files. To test the integrity of the ZIP file and explore alternative solutions, I experimented with using the <code>unzip</code> and <code>7z</code> tools.</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>$<span class="w"> </span>unzip<span class="w"> </span>-t<span class="w"> </span>MS-IAID_00001-01000_<span class="se">\(</span><span class="m">570</span><span class="se">\)</span>.zip
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span>Archive:<span class="w">  </span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span>warning<span class="w"> </span><span class="o">[</span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip<span class="o">]</span>:<span class="w">  </span><span class="m">68616287551</span><span class="w"> </span>extra<span class="w"> </span>bytes<span class="w"> </span>at<span class="w"> </span>beginning<span class="w"> </span>or<span class="w"> </span>within<span class="w"> </span>zipfile<span class="w"> </span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="o">(</span>attempting<span class="w"> </span>to<span class="w"> </span>process<span class="w"> </span>anyway<span class="o">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span>error<span class="w"> </span><span class="o">[</span>MS-IAID_00001-01000_<span class="o">(</span><span class="m">570</span><span class="o">)</span>.zip<span class="o">]</span>:<span class="w">  </span>start<span class="w"> </span>of<span class="w"> </span>central<span class="w"> </span>directory<span class="w"> </span>not<span class="w"> </span>found<span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">  </span>zipfile<span class="w"> </span>corrupt.
</span></code></pre></div>
<p>This suggests that the ZIP archive could be corrupted, possibly due to problems arising during the file's transfer or creation process.</p>
<p>The warnings included:</p>
<ul>
<li>Extra bytes at the beginning or within the zipfile</li>
<li>The central directory's start not found</li>
</ul>
<p>These are typical signs of corruption or incomplete files. The option to ensure the ZIP files were downloaded or transferred in binary mode was not viablen tho. (See the best practices on binary transferration<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>)</p>
<h3 id="understanding-the-problem">Understanding the Problem</h3>
<p>ZIP files contain a central directory that lists all the files in the archive, along with metadata about those files (such as file names, sizes, and compression methods). This central directory is essential for tools to locate and extract files from the ZIP archive.</p>
<p>When a ZIP file is corrupted, it can mean:</p>
<ul>
<li>The central directory is damaged or missing.</li>
<li>The file entries are incomplete, incorrect, or out of order.</li>
<li>There are extra bytes within the ZIP file that confuse ZIP tools because they don't follow the expected ZIP file structure.</li>
</ul>
<p><code>zip</code> has two option to deal with damaged files. <code>-F</code> will try and make the zip file usable without needing to resort to any drastic measures. It works under the assumption that the majority of the zip file is intact and tries to repair issues like missing or corrupted sections of the file. However, it might not be successful if the zip file is significantly corrupted.</p>
<p>When I used <code>-F</code> option the proccess failed:</p>
<p><div class="language-Bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w"> </span>$<span class="w"> </span>zip<span class="w"> </span>-F<span class="w"> </span>MS-IAID_03001-04000_<span class="se">\(</span><span class="m">538</span><span class="se">\)</span>.zip<span class="w"> </span>--out<span class="w"> </span>MS-IAID_03001-04000_<span class="se">\(</span><span class="m">538</span><span class="se">\)</span>_fixed.zip
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w"> </span>Found<span class="w"> </span>end<span class="w"> </span>record<span class="w"> </span><span class="o">(</span>EOCDR<span class="o">)</span><span class="w"> </span>-<span class="w"> </span>says<span class="w"> </span>expect<span class="w"> </span>single<span class="w"> </span>disk<span class="w"> </span>archive
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w"> </span>Scanning<span class="w"> </span><span class="k">for</span><span class="w"> </span>entries...
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w"> </span>copying:<span class="w"> </span>MS-IAID_03001-04000_<span class="o">(</span><span class="m">538</span><span class="o">)</span>/2B333630716C5272325244666971304A4D70586256673D3D/<span class="w">  </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>bytes<span class="o">)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w"> </span>copying:<span class="w"> </span>MS-IAID_03001-04000_<span class="o">(</span><span class="m">538</span><span class="o">)</span>/2B333630716C5272325244666971304A4D70586256673D3D/4E4653615133416133304244765057763937497173513D3D/<span class="w">  </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>bytes<span class="o">)</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w"> </span>copying:<span class="w"> </span>MS-IAID_03001-04000_<span class="o">(</span><span class="m">538</span><span class="o">)</span>/2B333630716C5272325244666971304A4D70586256673D3D/4E4653615133416133304244765057763937497173513D3D/10/<span class="w">  </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>bytes<span class="o">)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w"> </span>copying:<span class="w"> </span>MS-IAID_03001-04000_<span class="o">(</span><span class="m">538</span><span class="o">)</span>/2B333630716C5272325244666971304A4D70586256673D3D/4E4653615133416133304244765057763937497173513D3D/10/1.3.12.2.1107.5.2.30.59058.2017042608235624357703003_927.dcm<span class="w"> </span>
</span></code></pre></div>
The initial error messages indicated that the ZIP tool was unable to find the central directory, suggesting it was either misplaced within the file due to corruption or extra bytes were presenting as if part of the file was missing or additional to the expected content.</p>
<ul>
<li><strong>Found end record (EOCDR)</strong>: This indicates that <code>zip</code> found the End of Central Directory Record, which is a good sign. It means that there was enough intact structure for the repair tool to identify the end of the ZIP archive, suggesting that at least some of the central directory could be located or inferred.</li>
<li><strong>Scanning for entries...</strong>: This part of the output shows that <code>zip</code> is scanning the ZIP file for individual file entries, attempting to piece together the archive's structure from whatever intact data can be found.</li>
<li><strong>Copying entries</strong>: The detailed lines about copying entries show that <code>zip</code> is extracting what it identifies as valid file entries from the corrupted archive into a new, repaired archive file. The mention of <code>0 bytes</code> for some entries suggests that it found directory entries or possibly corrupted file entries that didn't contain actual data.</li>
</ul>
<p>The second option which is <code>zip -FF</code> command, can be helpful here because <code>zip</code> actually found <code>End of Central Directory Record (EOCDR)</code>. It will attempt to reconstruct the central directory by scanning the entire ZIP file for markers that indicate the start of file entries. It then tries to rebuild the central directory based on this scan. This is a more aggressive repair strategy than <code>zip -F</code> though.</p>
<h3 id="fixing-the-packages-with-ff-option">Fixing the packages with <code>-FF</code> option</h3>
<p>I checked one of the curropted files with <code>-FF</code> option and since it worked I wrote a Bash script to do it for all the zip files:</p>
<p><code>fix_zip_files.sh</code><a href="">[source]</a>:</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="ch">#!/bin/bash</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1"># Navigate to the directory containing the ZIP files</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nb">cd</span><span class="w"> </span>/home/nima/iAID/derivatives/orignal-data-zipped
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1"># Loop through all ZIP files in the current directory</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="k">for</span><span class="w"> </span>zip_file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.zip<span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="c1"># Define the name of the fixed ZIP file</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nv">fixed_zip</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">zip_file</span><span class="p">%.zip</span><span class="si">}</span><span class="s2">_fixed.zip&quot;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="c1"># Define the error log file name</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">  </span><span class="nv">error_log</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">zip_file</span><span class="p">%.zip</span><span class="si">}</span><span class="s2">_error.log&quot;</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">  </span><span class="c1"># Attempt to repair the ZIP file. Redirect only stderr to the log file, discard stdout.</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">  </span>zip<span class="w"> </span>-FF<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$zip_file</span><span class="s2">&quot;</span><span class="w"> </span>--out<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$fixed_zip</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$error_log</span><span class="s2">&quot;</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="c1"># Optional: Check if the repair was successful</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$fixed_zip</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Repair failed or file was not recoverable for </span><span class="nv">$zip_file</span><span class="s2">, check </span><span class="nv">$error_log</span><span class="s2"> for details.&quot;</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="c1"># Remove the fixed file if it&#39;s empty indicating repair failure</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$fixed_zip</span><span class="s2">&quot;</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">  </span><span class="k">else</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Repair process completed for </span><span class="nv">$zip_file</span><span class="s2">. Output in </span><span class="nv">$fixed_zip</span><span class="s2"> and errors (if any) in </span><span class="nv">$error_log</span><span class="s2">.&quot;</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="c1"># Since repair was successful and fixed file is not empty, delete the original ZIP file</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">    </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$zip_file</span><span class="s2">&quot;</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">  </span><span class="k">fi</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="k">done</span>
</span></code></pre></div>
<p>This script is a Bash shell script designed to automate the process of attempting to repair corrupted ZIP files within a specified directory. Here's a breakdown of its functionality:</p>
<ol>
<li>
<p><strong>Setting the Working Directory</strong>: The script starts by changing the current directory to <code>/home/nima/iAID/derivatives/orignal-data-zipped</code> using <code>cd</code>. This is where it expects to find the ZIP files to be repaired.</p>
</li>
<li>
<p><strong>Processing Each ZIP File</strong>: It uses a <code>for</code> loop to iterate over all <code>.zip</code> files in the current directory. For each file, it performs several actions as detailed below.</p>
</li>
<li>
<p><strong>Defining Filenames for Outputs</strong>: For each ZIP file encountered, it constructs two new filenames based on the original ZIP file's name:</p>
<ul>
<li>A new filename for the repaired ZIP file, appending <code>_fixed.zip</code> to the original name before the <code>.zip</code> extension.</li>
<li>An error log filename, appending <code>_error.log</code> to the original name, to store any error messages that occur during the repair process.</li>
</ul>
</li>
<li>
<p><strong>Attempting to Repair the ZIP File</strong>: The script uses the <code>zip -FF</code> command to attempt a more aggressive repair of each ZIP file. It directs the output of this command (<code>stdout</code>) to be discarded and only saves the error messages (<code>stderr</code>) to the previously defined error log file. This command creates a new ZIP file (<code>$fixed_zip</code>) in an attempt to repair the corrupted one.</p>
</li>
<li>
<p><strong>Checking the Repair Outcome</strong>: After attempting a repair, the script checks if the repaired ZIP file (<code>$fixed_zip</code>) is non-empty. If it's empty (<code>! -s "$fixed_zip"</code>), it indicates the repair failed or the file was not recoverable. It then prints a message to the console and removes the empty fixed file.</p>
</li>
<li>
<p><strong>Handling Successful Repairs</strong>: If the repaired file is not empty, indicating a successful repair or partial recovery, it prints a success message. It also deletes the original ZIP file to clean up the directory, assuming the fixed file is now the preferred version to keep.</p>
</li>
<li>
<p><strong>Loop Continuation</strong>: This process repeats for every ZIP file in the directory, attempting to repair each in turn and handling the outcome accordingly.</p>
</li>
</ol>
<div class="admonition danger">
<p class="admonition-title">Failed attempts on two of the ZIP files</p>
<p>The <code>-FF</code> option managed to successfully repair 12 out of the 14 ZIP files, suggesting a more severe issue with the remaining two. Further investigation revealed that their End of Central Directory Record (EOCDR) could not be located by the software, showimg that the corruption in these two files was too extensive to be fixed by the <code>-FF</code> option.</p>
</div>
<h3 id="discarding-cdr">Discarding CDR</h3>
<p>After successfully fixing most of the corrupted ZIP files in the <code>iAID</code> dataset using the <code>-FF</code> option, I encountered issues with two particular archives: <code>MS-IAID_11001-12000_(727).zip</code> and <code>MS-IAID_13001-13782_(429).zip</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">  </span>ðŸ“œMS-IAID_11001-12000_<span class="o">(</span><span class="m">727</span><span class="o">)</span>.zip<span class="w">   </span>33GB<span class="w">  </span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span>ðŸ“œMS-IAID_13001-13782_<span class="o">(</span><span class="m">429</span><span class="o">)</span>.zip<span class="w">   </span>36GB<span class="w"> </span>
</span></code></pre></div>
<p>The CDR is a crucial component of a ZIP archive, acting as a directory for all the files it contains. It indexes the files, storing information about their names, sizes, and locations within the archive. However, when the CDR is corrupted or missing, conventional extraction tools struggle to locate and extract the files based on this index. This led me to explore the method of discarding the Central Directory Record (CDR) to recover the remaining files. Despite the sizeable nature of these files, each being over 30GB, I opted for the <code>7z x</code> command as a last resort. </p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>7z<span class="w"> </span>x<span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_11001-12000_<span class="se">\(</span><span class="m">727</span><span class="se">\)</span>.zip<span class="w"> </span>-oRecoveredFiles
</span></code></pre></div>
<p>and</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>7z<span class="w"> </span>x<span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_13001-13782_<span class="se">\(</span><span class="m">429</span><span class="se">\)</span>.zip<span class="w"> </span>-oRecoveredFiles
</span></code></pre></div>
<p>This strategy proved effective to a large extent, managing to extract almost all contents except for the very last file in each archive. The error messages pointed to an "Unexpected end of archive," indicating that the files might have been truncated or the archive structure was severely compromised towards the end:</p>
<p>For <code>MS-IAID_11001-12000_(727).zip</code></p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Scanning<span class="w"> </span>the<span class="w"> </span>drive<span class="w"> </span><span class="k">for</span><span class="w"> </span>archives:
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="m">1</span><span class="w"> </span>file,<span class="w"> </span><span class="m">34891640832</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">33</span><span class="w"> </span>GiB<span class="o">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>Extracting<span class="w"> </span>archive:<span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_11001-12000_<span class="o">(</span><span class="m">727</span><span class="o">)</span>.zip
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>ERRORS:
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>Unexpected<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>archive
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>--
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_11001-12000_<span class="o">(</span><span class="m">727</span><span class="o">)</span>.zip
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="nv">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>zip
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>ERRORS:
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>Unexpected<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>archive
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>Physical<span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">34891704733</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>ERROR:<span class="w"> </span>Data<span class="w"> </span>Error<span class="w"> </span>:<span class="w"> </span>MS-IAID_11001-12000_<span class="o">(</span><span class="m">727</span><span class="o">)</span>/6F785157526D634A664B32682B51596E4377517532413D3D/37514D72366239712F5534796944736F5358734F74774455364A6367436A4C48/2/1.3.12.2.1107.5.2.18.41252.2018050819370829555987017_358.dcm
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>Sub<span class="w"> </span>items<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>Archives<span class="w"> </span>with<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>Open<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>Sub<span class="w"> </span>items<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>And for <code>MS-IAID_13001-13782_(429).zip</code>:</p>
<div class="language-Bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Scanning<span class="w"> </span>the<span class="w"> </span>drive<span class="w"> </span><span class="k">for</span><span class="w"> </span>archives:
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="m">1</span><span class="w"> </span>file,<span class="w"> </span><span class="m">37760675840</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">36</span><span class="w"> </span>GiB<span class="o">)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>Extracting<span class="w"> </span>archive:<span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_13001-13782_<span class="o">(</span><span class="m">429</span><span class="o">)</span>.zip
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>ERRORS:
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>Unexpected<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>archive
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>--
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="nv">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>derivatives/orignal-data-zipped/MS-IAID_13001-13782_<span class="o">(</span><span class="m">429</span><span class="o">)</span>.zip
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="nv">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>zip
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>ERRORS:
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>Unexpected<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>archive
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>Physical<span class="w"> </span><span class="nv">Size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">37760913262</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>ERROR:<span class="w"> </span>Data<span class="w"> </span>Error<span class="w"> </span>:<span class="w"> </span>MS-IAID_13001-13782_<span class="o">(</span><span class="m">429</span><span class="o">)</span>/656B4B41394F37555678727576336D637845514431513D3D/37514D72366239712F5537586C74444B656D56322B774455364A6367436A4C48/8/1.3.12.2.1107.5.2.43.67059.2018112413585850919854295_838.dcm
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>Sub<span class="w"> </span>items<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>Archives<span class="w"> </span>with<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>Open<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>Sub<span class="w"> </span>items<span class="w"> </span>Errors:<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>Given the situation, discarding the CDR proved to be a viable path forward. By ignoring the central directory, I focused on extracting files based on their local headers, which contain essential metadata for extraction and it worked almost perfectly. Then, the fixed zip files were extracted as normal.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Approaches For <a href="https://neurogranberg.github.io/Nima_Documentation/workspace/copying_large_data/">Copying Large Data</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Step-wise Approach to <a href="https://neurogranberg.github.io/Nima_Documentation/workspace/fixing_corrupted_archives/">Fixing Corrupted ZIP Archives</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>Best Practice In <a href="https://neurogranberg.github.io/Nima_Documentation/workspace/download_large_data/">Downloading Large Data</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../workspace/fixing_corrupted_archives/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Fixing Corrupted ZIP Archives">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Fixing Corrupted ZIP Archives
              </div>
            </div>
          </a>
        
        
          
          <a href="../BIDSification/" class="md-footer__link md-footer__link--next" aria-label="Next: BIDSification">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                BIDSification
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - Department of Clinical Neuroscience Neuroradiology, Karolinska Institutet, Sweden
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/NeuroGranberg/Nima_Documentation" target="_blank" rel="noopener" title="Nima_Documentation" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "toc.integrate", "navigation.footer", "content.action.edit", "content.tooltips", "content.code.copy", "content.code.select", "content.code.annotate", "announce.dismiss", "content.action.view", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../javascripts/custom.js"></script>
      
    
  </body>
</html>